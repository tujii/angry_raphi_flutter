# AngryRaphi

AngryRaphi is a cross-platform Flutter app for reporting and rating tech problems. Users can create "Raphcons" (tech issues) which can then be rated by others. The app generates weekly AI-powered summaries using Google Gemini AI and displays them as rotating "Story of the Week" content. The system uses Firebase for authentication, database and hosting with automated CI/CD pipeline via GitHub Actions.

Available on **Web**, **Windows**, **Android**, and **iOS**.

## ğŸš€ Live Demo

- **Production**: [angryraphi.web.app](https://angryraphi.web.app)
- **Preview URLs**: Generated automatically for each Pull Request

## âœ¨ Features

- ğŸ“ **Problem Reporting**: Create and submit tech issues ("Raphcons")
- â­ **Rating System**: Rate and evaluate reported problems
- ğŸ¤– **AI-Powered Stories**: Weekly summaries generated by Google Gemini AI
- ğŸ”„ **Rotating Content**: Dynamic "Story of the Week" with smooth animations
- ğŸ” **Authentication**: Secure login/registration via Firebase Auth
- ğŸ‘¥ **User Management**: Public user directory and profiles
- ğŸŒ **Multi-language**: German/English localization support
- ğŸ“± **Responsive Design**: Works on desktop and mobile devices
- ğŸ’» **Cross-Platform**: Web, Windows, Android, and iOS support

## Requirements

- **Flutter**: 3.27.4+ (see `.dart_tool/version`)
- **Dart**: 3.6.0+
- **Node.js**: 18.0.0+ (for Firebase CLI and web builds)
- **Java**: 21+ (for Android builds)
- **Visual Studio 2022**: 17.0+ with C++ Desktop Development (for Windows builds)
- **Firebase CLI**: Latest version

## Setup

### API Keys

To use the Gemini AI features, you'll need to obtain a Gemini API key from Google AI Studio:
- Get your API key at: https://aistudio.google.com/app/api-keys
- User 17tujii
- Create a file named `gemini_api_key` in the project root directory
- Add your API key to this file (the file is already included in `.gitignore` for security)

### Windows Development Setup

To build and run the app on Windows, you'll need:
1. **Visual Studio 2022** or later with the "Desktop development with C++" workload
2. Enable the following components in Visual Studio Installer:
   - MSVC v142 or later
   - Windows 10/11 SDK
   - C++ CMake tools for Windows
3. Run `flutter doctor` to verify Windows development setup

## Development

**âš ï¸ Note**: This app connects directly to the production Firebase database. There is no local emulator setup.

### Install Dependencies
```bash
flutter pub get
```

### Run Locally

**Web:**
```bash
flutter run -d chrome
```

**Windows:**
```bash
flutter run -d windows
```

**Android/iOS:**
```bash
flutter run
```

## ğŸš€ Deployment

Deployment is fully automated via GitHub Actions:

- **Preview**: Automatic on every push/PR - each merge request creates a new preview URL
- **Production**: Create and push a tag (`git tag v2.1.0 && git push origin v2.1.0`)

No manual build or deployment steps needed!

### Testing
```bash
flutter test
```

## ğŸ—ï¸ Architecture

- **Frontend**: Flutter Web with responsive design
- **State Management**: BLoC (Business Logic Component) pattern
- **Backend**: Firebase (Firestore, Authentication, Hosting)
- **AI Integration**: Google Gemini API for content generation
- **CI/CD**: GitHub Actions with automated testing and deployment
- **Deployment**: Firebase Hosting with preview channels

## ğŸ“ Project Structure

```
lib/
â”œâ”€â”€ core/           # Core utilities and constants
â”œâ”€â”€ features/       # Feature-based modules
â”‚   â””â”€â”€ user/       # User management features
â”œâ”€â”€ models/         # Data models
â”œâ”€â”€ services/       # API and business logic services
â”œâ”€â”€ shared/         # Shared widgets and utilities
â”œâ”€â”€ utils/          # Helper functions
â””â”€â”€ widgets/        # Reusable UI components
```

## ğŸ”§ Environment Setup

### Firebase Configuration
1. Copy your Firebase config to `lib/firebase_options.dart`
2. Ensure Firebase project has:
   - Authentication enabled
   - Firestore database
   - Hosting enabled

### Required Files
- `gemini_api_key` (in project root)
- `lib/firebase_options.dart`
- Service account JSON for GitHub Actions

## ğŸ¤ Contributing

### Branch Strategy
- `main`: Production branch (protected)
- Feature branches: `feature/your-feature-name`
- Create Pull Requests for all changes

### Code Style
- Follow Dart/Flutter conventions
- Run `flutter analyze` before committing
- Ensure tests pass: `flutter test`
- Use meaningful commit messages

### Development Workflow
1. Create feature branch from `main`
2. Make your changes
3. Run tests and analysis
4. Create Pull Request
5. Preview URL will be generated automatically
6. Merge after review

## ğŸ› Troubleshooting

### Common Issues

**Build Errors:**
- Ensure Flutter version matches `.dart_tool/version`
- Run `flutter clean && flutter pub get`

**Firebase Errors:**
- Check `firebase_options.dart` configuration
- Verify Gemini API key in `gemini_api_key` file

**Authentication Issues:**
- Ensure Firebase Auth is enabled in console
- Check domain is added to authorized domains

**Windows Build Issues:**
- Verify Visual Studio 2022 is installed with C++ Desktop Development workload
- Run `flutter doctor` to check Windows toolchain status
- Ensure Windows 10/11 SDK is installed
- Try `flutter clean` followed by `flutter build windows`
- Check that CMake is properly installed (comes with Visual Studio)

### Getting Help
- Check existing issues in GitHub
- Review Firebase Console for errors
- Verify all environment variables are set

## ğŸ”— Links

- **Firebase Console**: [console.firebase.google.com](https://console.firebase.google.com)
- **GitHub Actions**: [Repository Actions](../../actions)
- **Google AI Studio**: [aistudio.google.com](https://aistudio.google.com/app/api-keys)
- **Flutter Docs**: [docs.flutter.dev](https://docs.flutter.dev)

## ğŸ“„ License

This project is licensed under the MIT License - see the LICENSE file for details.
